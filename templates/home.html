{% extends 'base_user.html' %}

{% block title %}Home{% endblock %}

{% block head_extra %}
<!-- Additional stylesheets or scripts specific to this page -->
{% load static %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">

<!-- Include jQuery library -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

{% endblock %}


{% block content %}

{% if user.is_authenticated %}
<style>
  body {
    margin: 0;
    padding: 0;
    background-color: #fffaf7;
    /* background: linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5)), url('{% static "images/bg.png" %}') no-repeat center center fixed; */
    /* background: url('{% static "images/bg.png" %}') no-repeat center center fixed; */
    /* background: linear-gradient(rgba(255, 250, 247, 0.5), rgba(255, 250, 247, 0.5)), url('{% static "images/bg.png" %}') no-repeat center center fixed; */
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    height: 100%;
  }
</style>

<div class="home">
  <div id="header">
    <header>
      <div class="page-head">
        <!-- <h1>{{user}}'s Recommendation</h1> -->
        <h1>Your results</h1>
        <p>Ready to jump start your career with us?</p>
        <div class="header-btn col">
          <a href="" class="btn btn-primary">Get Recommendation</a>
        </div>

      </div>
    </header>
  </div>
  <div class="home-main">

    <!-- <div class="outer">
      <div class="intro-section">
        <div class="inner">
          <div class="user-section">
            <h4>Hi {{user}}!</h4>
            <p>Ready to jump start your career with us?</p>
            <a href="" class="btn btn-primary">Get Recommendation</a>
            <p>Youâ€™ve completed all the assessments. Take a look at your results below.</p>
          </div>
          <div class="character">
            <div class="girl">
              <img src="{% static 'images/character_intro_girl.png' %}" class="girl" alt="character">
            </div>
            <div class="boy">
              <img src="{% static 'images/character_intro_boy.png' %}" class="boy" alt="character">
            </div>
          </div>
        </div>
      </div>
    </div> -->

    <div class="section">
      <h3>Fields</h3>
      <p id="field-description">Based on your profile and assessment, here are the top fields generated by the
        recommendation system.</p>
      <div class="card-container-wrapper">
        <div class="card-container">
          {% if have_reco %}
          {% for item in field_items %}

          <a href="javascript:void(0);" class="card-link field-link link-offset-2 link-underline link-underline-opacity-0
            {% if user_recommendations %}{% if item == user_recommendations.field_1 %}recommendedfield_first
            {% elif item == user_recommendations.field_2 %}recommendedfield_second
            {% elif item == user_recommendations.field_3 %}recommendedfield_third{% endif %}{% endif %}"
            data-field-id="{{ item.field }}">
            <div
              class="card field{% if selected_field and selected_field.field_id == item.field_id %}-selected{% endif %} text-truncate">

              <!-- <p class="small">{{ item.description }}</p> -->
              <!-- Check if the field is recommended -->
              {% if user_recommendations %}
              {% if item == user_recommendations.field_1 %}
              <span class="recommended-label recommended_first">Top Recommendation 1</span>
              {% elif item == user_recommendations.field_2 %}
              <span class="recommended-label recommended_second">Top Recommendation 2</span>
              {% elif item == user_recommendations.field_3 %}
              <span class="recommended-label recommended_third">Top Recommendation 3</span>
              {% endif %}
              {% endif %}

              <h4 class="field_title">{{ item.field_name }}</h4>
            </div>
          </a>
          {% endfor %}
          {% else %}
          <a href="" class="card-link field-link link-offset-2 link-underline link-underline-opacity-0">
            <div class="card field text-truncate">
              <h4 class="" style="color: rgb(107, 107, 107) !important;">No Recommendation</h4>
            </div>
          </a>
          <a href="" class="card-link field-link link-offset-2 link-underline link-underline-opacity-0">
            <div class="card field text-truncate">
              <h4 class="" style="color:  rgb(107, 107, 107) !important;">No Recommendation</h4>
            </div>
          </a>
          <a href="" class="card-link field-link link-offset-2 link-underline link-underline-opacity-0">
            <div class="card field text-truncate">
              <h4 class="" style="color: rgb(107, 107, 107) !important;">No Recommendation</h4>
            </div>
          </a>
          {% endif %}
        </div>
      </div>
    </div>


    <div class="section">
      <h3>Specialization Tracks</h3>
      <p id="field-description">Possible Careers you could go on with your current Field. Filtered by the Field from the
        top section.</p>
      <div class="card-container-wrapper">
        <div class="card-container" id="specialization-container">
          {% for item in specialization_items %}
          <a href="{% url 'specialization_page' item_id=item.specialization_id %}"
            class="card-link link-offset-2 link-underline link-underline-opacity-0">
            <div class="card specialization text-truncate">
              <h4 class="specialization_title">{{ item.title }}</h4>
              <p class="small specialization_description">{{ item.description }}</p>
              <!-- Add more fields as needed -->
            </div>
          </a>
          {% endfor %}
        </div>
      </div>
      <div class="d-flex align-content-start flex-wrap">

      </div>
    </div>

    <div class="section explore-section">
      <h3>Explore More</h3>

      <div class="container">
        <div class="row align-items-center justify-content-evenly gx-5">

          {% if user_recommendations.field_1 %}
          <div class="col">
            <a href="{% url 'recommendation_field' field_id=user_recommendations.field_1.field %}"
              class="card-link link-offset-2 link-underline link-underline-opacity-0">
              <div class="card">
                <img src="{% static 'images/com-1.png' %}" class="card-img-top" alt="..." style="position: relative;">
                <div class="card-body" style="position: relative;"><br>
                  <h3 class="card-title">Your Track</h3>
                  <p class="card-text">Click to continue to see all the learning materials that will help you to expand
                    your
                    knowlegde.</p>
                </div>
              </div>
            </a>
          </div>
          <div class="col">
            <a href="{% url 'job_list_with_field' field_id=user_recommendations.field_1.field %}"
              class="card-link link-offset-2 link-underline link-underline-opacity-0">
              <div class="card">
                <img src="{% static 'images/com-2.png' %}" class="card-img-top" alt="..." style="position: relative;">
                <div class="card-body" style="position: relative;"><br>
                  <h3 class="card-title">Your Jobs</h3>
                  <p class="card-text">Click to continue to see all the possible jobs recommended</p>
                </div>
              </div>
            </a>
          </div>
          {% else %}
          <div class="col">
            <a href="{% url 'test_home' %}" class="card-link link-offset-2 link-underline link-underline-opacity-0">
              <div class="card">
                <img src="{% static 'images/com-1.png' %}" class="card-img-top" alt="..." style="position: relative;">
                <div class="card-body" style="position: relative;"><br>
                  <h3 class="card-title">Take a Test</h3>
                  <p class="card-text">Click to continue to input your student information, performance and take a Test
                    to make a Recommendation.</p>
                </div>
              </div>
            </a>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
    <div class="section section-roadmap">
      <h3>Roadmap Progress</h3>
      <div class="roadmap-step">
        <div class="roadmap-line"></div>

        <div class="step-card">
          <div class="step-status {{step_1_status|yesno:'active,'}}" data-step="1" data-tooltip=""></div>
          <h4>Step 1</h4>
          <h5>Pre-Assessment</h5>
          <ul>
            <a href="">
              <li><span class="milestone-status {{student_profile_exists|yesno:'active,'}}"></span>Student Record</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{test_1_status|yesno:'active,'}}"></span>Assessment</li>
            </a>
            <a href="">
              <li class=" {{step_1_status|yesno:'active,'}}"><span
                  class="milestone-status {{reco_1_status|yesno:'active,'}}"></span>Recommendation</li>
            </a>
          </ul>
        </div>
        <div class="step-card">
          <div class="step-status {{step_2_status|yesno:'active,'}}" data-step="1" data-tooltip=""></div>
          <h4>Step 2</h4>
          <h5>1st Year</h5>
          <ul>
            <a href="">
              <li><span class="milestone-status {{grade_2_status|yesno:'active,'}}"></span>Grade Input</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{test_2_status|yesno:'active,'}}"></span>Assessment</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{survey_s_1_status|yesno:'active,'}}"></span>Recommendation Survey</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{reco_2_status|yesno:'active,'}}"></span>Recommendation</li>
            </a>
          </ul>
        </div>
        <div class="step-card">
          <div class="step-status {{step_3_status|yesno:'active,'}}" data-step="1" data-tooltip=""></div>
          <h4>Step 3</h4>
          <h5>2nd Year</h5>
          <ul>
            <a href="">
              <li><span class="milestone-status {{grade_3_status|yesno:'active,'}}"></span>Grade Input</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{test_3_status|yesno:'active,'}}"></span>Assessment</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{survey_s_2_status|yesno:'active,'}}"></span>Recommendation Survey</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{reco_3_status|yesno:'active,'}}"></span>Recommendation</li>
            </a>
          </ul>
        </div>
        <div class="step-card">
          <div class="step-status {{step_4_status|yesno:'active,'}}" data-step="1" data-tooltip=""></div>
          <h4>Step 4</h4>
          <h5>3rd Year</h5>
          <ul>
            <a href="">
              <li><span class="milestone-status {{grade_4_status|yesno:'active,'}}"></span>Grade Input</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{test_4_status|yesno:'active,'}}"></span>Assessment</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{survey_s_3_status|yesno:'active,'}}"></span>Recommendation Survey</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{reco_4_status|yesno:'active,'}}"></span>Recommendation</li>
            </a>
          </ul>
        </div>
        <div class="step-card">
          <div class="step-status {{step_5_status|yesno:'active,'}}" data-step="1" data-tooltip=""></div>
          <h4>Step 5</h4>
          <h5>4th Year</h5>
          <ul>
            <a href="">
              <li><span class="milestone-status {{grade_5_status|yesno:'active,'}}"></span>Grade Input</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{test_5_status|yesno:'active,'}}"></span>Assessment</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{survey_s_4_status|yesno:'active,'}}"></span>Recommendation Survey</li>
            </a>
            <a href="">
              <li><span class="milestone-status {{reco_5_status|yesno:'active,'}}"></span>Recommendation</li>
            </a>
          </ul>
        </div>
      </div>
    </div>
    <!-- <div class="skill">
    <div class="skill-section">
      <h3>Skills</h3>
      {% for skill in user_skills %}
      <div class="skill-score">
        <p>{{ skill.skill.skill }}</p>
        <div class="skill-bar-container">
          <div class="skill-bar-background"></div>
          <div class="skill-bar" style="width: {{ skill.level }}%;"></div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div> -->

  </div>


  <!-- Include your custom JavaScript file -->
  <script src="{% static 'js/specialization_filter.js' %}"></script>
  {% else %}
  <!-- 
<div class="col-md-6 offset-md-3">
    <br><br><br>
    <h3 class="">You need to login first</h3>
    <a href="{% url 'login_user' %}" class="btn btn-secondary">Login Page</a>
</div> -->

  {% endif %}



  {% endblock content %}